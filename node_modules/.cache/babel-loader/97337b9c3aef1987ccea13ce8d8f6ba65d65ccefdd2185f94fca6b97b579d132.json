{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import sharebkg from'../assets/sharebkg.png';import recom1 from'../assets/recom1.png';import recom2 from'../assets/recom2.png';import recom3 from'../assets/recom3.png';import icon from'../assets/uploadicon.png';import'./Share.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Section=_ref=>{let{title,children}=_ref;return/*#__PURE__*/_jsx(\"section\",{children:children});};function Share(){useEffect(()=>{window.scrollTo(0,0);},[]);const navigate=useNavigate();const[title,setTitle]=useState('');const[text,setText]=useState('');const[file,setFile]=useState(null);const fileInputRef=useRef(null);const handleButtonClick=()=>{if(fileInputRef.current){fileInputRef.current.click();}};const handleTitleChange=event=>{setTitle(event.target.value);};const handleTextChange=event=>{setText(event.target.value);};const handleFileChange=event=>{setFile(event.target.files[0]);};const handleSubmit=event=>{event.preventDefault();const formData=new FormData();formData.append('title',title);formData.append('content',text);if(file){formData.append('file',file);// Append the uploaded file to the form data\n}const token=localStorage.getItem('token');axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/forum/posts\"),formData,{headers:{'Content-Type':'multipart/form-data','Authorization':\"Bearer \".concat(token)}}).then(response=>{console.log('Post submitted successfully',response.data);// Optionally reset the state or navigate to another page\n}).catch(error=>{console.error('Error submitting post',error);// Handle error\n});};const imageBlocks=[{src:recom1,text:'Finnish Culture',endpoint:'/Cultureexample'},{src:recom2,text:'Finnish Food 101',endpoint:'/Foodexample'},{src:recom3,text:'General tips',endpoint:'/Tipsexample'}];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Section,{className:\"header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"header-content\",children:/*#__PURE__*/_jsx(\"img\",{src:sharebkg,alt:\"header background\"})})}),/*#__PURE__*/_jsx(Section,{title:\"Share your story\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"story-share\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"story-text1\",children:\"Share your story in the forum\"}),/*#__PURE__*/_jsx(\"p\",{className:\"story-text2\",children:\"Do you want to keep track of your journey? Or do you prefer to connect with others who are also new in Finland? Please share your story and experiences here!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",placeholder:\"Title\",value:title,onChange:handleTitleChange}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Type here...\",value:text,onChange:handleTextChange}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"button\",children:/*#__PURE__*/_jsx(\"button\",{className:\"share-story-button2\",type:\"submit\",children:\"SEND\"})})})]}),file&&/*#__PURE__*/_jsxs(\"div\",{className:\"filedetail\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"File name: \",file.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"File type: \",file.type]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"File size: \",file.size,\" bytes\"]})]})]})}),/*#__PURE__*/_jsx(Section,{title:\"Overview of your stories\",children:/*#__PURE__*/_jsx(\"div\",{className:\"image-text-container\",children:imageBlocks.map((block,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"image-block\",onClick:()=>navigate(block.endpoint),children:[/*#__PURE__*/_jsx(\"img\",{src:block.src,alt:block.text,className:\"image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:block.text})]},index))})})]});}export default Share;","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","useNavigate","sharebkg","recom1","recom2","recom3","icon","jsx","_jsx","jsxs","_jsxs","Section","_ref","title","children","Share","window","scrollTo","navigate","setTitle","text","setText","file","setFile","fileInputRef","handleButtonClick","current","click","handleTitleChange","event","target","value","handleTextChange","handleFileChange","files","handleSubmit","preventDefault","formData","FormData","append","token","localStorage","getItem","post","concat","process","env","REACT_APP_API_URL","headers","then","response","console","log","data","catch","error","imageBlocks","src","endpoint","className","alt","onSubmit","type","placeholder","onChange","name","size","map","block","index","onClick"],"sources":["/Users/jimena/Documents/GitHub/international-student-guide/src/Share/Share.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport sharebkg from '../assets/sharebkg.png';\r\nimport recom1 from '../assets/recom1.png';\r\nimport recom2 from '../assets/recom2.png';\r\nimport recom3 from '../assets/recom3.png';\r\nimport icon from '../assets/uploadicon.png';\r\nimport './Share.css';\r\n\r\nconst Section = ({ title, children }) => {\r\n  return (\r\n    <section>\r\n      \r\n      {children}\r\n    </section>\r\n  );\r\n};\r\n\r\nfunction Share() {\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  const navigate = useNavigate();\r\n  const [title, setTitle] = useState('');\r\n  const [text, setText] = useState('');\r\n  const [file, setFile] = useState(null);\r\n  const fileInputRef = useRef(null);\r\n\r\n  const handleButtonClick = () => {\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.click();\r\n    }\r\n  };\r\n\r\n  const handleTitleChange = (event) => {\r\n    setTitle(event.target.value);\r\n  };\r\n\r\n  const handleTextChange = (event) => {\r\n    setText(event.target.value);\r\n  };\r\n\r\n  const handleFileChange = (event) => {\r\n    setFile(event.target.files[0]);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append('title', title);\r\n    formData.append('content', text);\r\n    if (file) {\r\n      formData.append('file', file); // Append the uploaded file to the form data\r\n    }\r\n\r\n    const token = localStorage.getItem('token');\r\n\r\n    axios.post(`${process.env.REACT_APP_API_URL}/api/forum/posts`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n    })\r\n    .then(response => {\r\n      console.log('Post submitted successfully', response.data);\r\n      // Optionally reset the state or navigate to another page\r\n    })\r\n    .catch(error => {\r\n      console.error('Error submitting post', error);\r\n      // Handle error\r\n    });\r\n  };\r\n\r\n  const imageBlocks = [\r\n    { src: recom1, text: 'Finnish Culture', endpoint: '/Cultureexample' },\r\n    { src: recom2, text: 'Finnish Food 101', endpoint: '/Foodexample' },\r\n    { src: recom3, text: 'General tips', endpoint: '/Tipsexample' }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Section className=\"header\">\r\n        <div className=\"header-content\">\r\n          <img src={sharebkg} alt=\"header background\"></img>\r\n        </div>\r\n      </Section>\r\n\r\n      <Section title=\"Share your story\">\r\n        <div className=\"story-share\">\r\n          <h1 className='story-text1'>Share your story in the forum</h1>\r\n          <p className='story-text2'>Do you want to keep track of your journey? Or do you prefer to connect with others who are also new in Finland? Please share your story and experiences here!</p>\r\n          <form onSubmit={handleSubmit}>\r\n            <textarea\r\n              type=\"text\"\r\n              placeholder=\"Title\"\r\n              value={title}\r\n              onChange={handleTitleChange}\r\n            />\r\n            <textarea\r\n              placeholder=\"Type here...\"\r\n              value={text}\r\n              onChange={handleTextChange}\r\n            />\r\n            <div>\r\n           \r\n              <div className='button'>\r\n                <button className=\"share-story-button2\" type=\"submit\">SEND</button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          {file && (\r\n            <div className='filedetail'>\r\n              <p>File name: {file.name}</p>\r\n              <p>File type: {file.type}</p>\r\n              <p>File size: {file.size} bytes</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Section>\r\n\r\n      <Section title=\"Overview of your stories\">\r\n        <div className=\"image-text-container\">\r\n          {imageBlocks.map((block, index) => (\r\n            <div className=\"image-block\" key={index} onClick={() => navigate(block.endpoint)}>\r\n              <img src={block.src} alt={block.text} className=\"image\" />\r\n              <div className=\"text\">{block.text}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Share;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}