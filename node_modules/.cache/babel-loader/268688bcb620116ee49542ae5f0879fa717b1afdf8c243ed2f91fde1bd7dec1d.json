{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import backgroundImage from'./assets/tembkg.png';import'./Profile.css';import recom1 from'./assets/recom1.png';import recom2 from'./assets/recom2.png';import recom3 from'./assets/recom3.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Section=_ref=>{let{title,children}=_ref;return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),children]});};const ChecklistItem=_ref2=>{let{text,isComplete,onToggle}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"checklist-item \".concat(isComplete?'complete':''),onClick:onToggle,children:[isComplete?'✓':'○',\" \",text]});};function Profile(){useEffect(()=>{window.scrollTo(0,0);// Retrieve the profile image data URL from local storage\nconst storedProfileImage=localStorage.getItem('profileImage');if(storedProfileImage){setProfileImage(storedProfileImage);}},[]);const[items,setItems]=useState([{id:1,text:'Arrived at the airport',isComplete:false},{id:2,text:'Weather appropriate clothing',isComplete:true},{id:3,text:'Connected with a local',isComplete:false},{id:4,text:'Shared a story',isComplete:false},{id:5,text:'Made a comment',isComplete:false}]);const toggleComplete=id=>{setItems(items.map(item=>item.id===id?{...item,isComplete:!item.isComplete}:item));};const completedCount=items.filter(item=>item.isComplete).length;const progressPercentage=completedCount/items.length*100;const imageBlocks=[{src:recom1,text:'First Day'},{src:recom2,text:'New people'},{src:recom3,text:'New Culture'}];const[userInfo,setUserInfo]=useState({username:'',email:''});const[profileImage,setProfileImage]=useState(null);useEffect(()=>{const fetchUserInfo=async()=>{try{const response=await axios.get('http://localhost:3001/api/userinfo',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});console.log('Response:',response.data);setUserInfo(response.data);}catch(error){console.error('Error fetching user info:',error);}};fetchUserInfo();},[]);const handleProfileImageUpload=e=>{const file=e.target.files[0];if(file){const reader=new FileReader();reader.onload=event=>{// Save the image data URL to local storage\nlocalStorage.setItem('profileImage',event.target.result);// Set the profileImage state to display the uploaded image\nsetProfileImage(event.target.result);};reader.readAsDataURL(file);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Section,{title:\"\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-banner\",style:{backgroundImage:\"url(\".concat(backgroundImage,\")\")},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-text\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome back\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"username\",children:userInfo.username})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-image-container\",children:profileImage?/*#__PURE__*/_jsx(\"img\",{src:profileImage,alt:\"Profile\",className:\"profile-image\"}):/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"profile-image-upload\",className:\"profile-image-upload-label\",children:[\"Upload Profile Picture\",/*#__PURE__*/_jsx(\"input\",{id:\"profile-image-upload\",type:\"file\",accept:\"image/*\",onChange:handleProfileImageUpload,style:{display:'none'}})]})})]})}),/*#__PURE__*/_jsx(Section,{title:\"Your shared stories\",children:/*#__PURE__*/_jsx(\"div\",{className:\"image-text-container\",children:imageBlocks.map((block,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"image-block\",children:[/*#__PURE__*/_jsx(\"img\",{src:block.src,alt:block.text,className:\"image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:block.text})]},index))})}),/*#__PURE__*/_jsx(Section,{title:\"Process of your checklist\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"checklist\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress\",style:{width:\"\".concat(progressPercentage,\"%\")}})}),items.map(item=>/*#__PURE__*/_jsx(ChecklistItem,{text:item.text,isComplete:item.isComplete,onToggle:()=>toggleComplete(item.id)},item.id))]})})]});}export default Profile;","map":{"version":3,"names":["React","useState","useEffect","axios","backgroundImage","recom1","recom2","recom3","jsx","_jsx","jsxs","_jsxs","Section","_ref","title","children","ChecklistItem","_ref2","text","isComplete","onToggle","className","concat","onClick","Profile","window","scrollTo","storedProfileImage","localStorage","getItem","setProfileImage","items","setItems","id","toggleComplete","map","item","completedCount","filter","length","progressPercentage","imageBlocks","src","userInfo","setUserInfo","username","email","profileImage","fetchUserInfo","response","get","headers","Authorization","console","log","data","error","handleProfileImageUpload","e","file","target","files","reader","FileReader","onload","event","setItem","result","readAsDataURL","style","alt","htmlFor","type","accept","onChange","display","block","index","width"],"sources":["/Users/jimena/Documents/GitHub/international-student-guide/src/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport backgroundImage from './assets/tembkg.png';\r\nimport './Profile.css';\r\nimport recom1 from './assets/recom1.png';\r\nimport recom2 from './assets/recom2.png';\r\nimport recom3 from './assets/recom3.png';\r\n\r\nconst Section = ({ title, children }) => {\r\n  return (\r\n    <section>\r\n      <h2>{title}</h2>\r\n      {children}\r\n    </section>\r\n  );\r\n};\r\n\r\nconst ChecklistItem = ({ text, isComplete, onToggle }) => {\r\n  return (\r\n    <div className={`checklist-item ${isComplete ? 'complete' : ''}`} onClick={onToggle}>\r\n      {isComplete ? '✓' : '○'} {text}\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction Profile() {\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    \r\n    // Retrieve the profile image data URL from local storage\r\n    const storedProfileImage = localStorage.getItem('profileImage');\r\n    if (storedProfileImage) {\r\n      setProfileImage(storedProfileImage);\r\n    }\r\n  }, []);\r\n\r\n  const [items, setItems] = useState([\r\n    { id: 1, text: 'Arrived at the airport', isComplete: false },\r\n    { id: 2, text: 'Weather appropriate clothing', isComplete: true },\r\n    { id: 3, text: 'Connected with a local', isComplete: false },\r\n    { id: 4, text: 'Shared a story', isComplete: false },\r\n    { id: 5, text: 'Made a comment', isComplete: false },\r\n  ]);\r\n\r\n  const toggleComplete = (id) => {\r\n    setItems(items.map((item) =>\r\n      item.id === id ? { ...item, isComplete: !item.isComplete } : item\r\n    ));\r\n  };\r\n\r\n  const completedCount = items.filter((item) => item.isComplete).length;\r\n  const progressPercentage = (completedCount / items.length) * 100;\r\n  const imageBlocks = [\r\n    { src: recom1, text: 'First Day' },\r\n    { src: recom2, text: 'New people' },\r\n    { src: recom3, text: 'New Culture' },\r\n  ];\r\n\r\n  const [userInfo, setUserInfo] = useState({ username: '', email: '' });\r\n  const [profileImage, setProfileImage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchUserInfo = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:3001/api/userinfo', {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n        console.log('Response:', response.data);\r\n        setUserInfo(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching user info:', error);\r\n      }\r\n    };\r\n\r\n    fetchUserInfo();\r\n  }, []);\r\n\r\n  const handleProfileImageUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (event) => {\r\n        // Save the image data URL to local storage\r\n        localStorage.setItem('profileImage', event.target.result);\r\n        // Set the profileImage state to display the uploaded image\r\n        setProfileImage(event.target.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <Section title=\"\">\r\n        <div className=\"welcome-banner\" style={{ backgroundImage: `url(${backgroundImage})` }}>\r\n          <div className=\"welcome-text\">\r\n            <h1>Welcome back</h1>\r\n            <h1 className='username'>{userInfo.username}</h1>\r\n          </div>\r\n          <div className=\"profile-image-container\">\r\n            {profileImage ? (\r\n              <img src={profileImage} alt=\"Profile\" className=\"profile-image\" />\r\n            ) : (\r\n              <label htmlFor=\"profile-image-upload\" className=\"profile-image-upload-label\">\r\n                Upload Profile Picture\r\n                <input\r\n                  id=\"profile-image-upload\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={handleProfileImageUpload}\r\n                  style={{ display: 'none' }}\r\n                />\r\n              </label>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Section>\r\n\r\n      <Section title=\"Your shared stories\">\r\n        <div className=\"image-text-container\">\r\n          {imageBlocks.map((block, index) => (\r\n            <div className=\"image-block\" key={index}>\r\n              <img src={block.src} alt={block.text} className=\"image\" />\r\n              <div className=\"text\">{block.text}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Section>\r\n\r\n      <Section title='Process of your checklist'>\r\n        <div className=\"checklist\">\r\n          <div className=\"progress-bar\">\r\n            <div className=\"progress\" style={{ width: `${progressPercentage}%` }}></div>\r\n          </div>\r\n          {items.map((item) => (\r\n            <ChecklistItem\r\n              key={item.id}\r\n              text={item.text}\r\n              isComplete={item.isComplete}\r\n              onToggle={() => toggleComplete(item.id)}\r\n            />\r\n          ))}\r\n        </div>\r\n      </Section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}