{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import iconforum from'../assets/icon-forum.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const PostComponent=_ref=>{let{post}=_ref;const[likes,setLikes]=useState(0);const[comments,setComments]=useState([]);const[commentText,setCommentText]=useState('');const[imageSrc,setImageSrc]=useState(null);// State to store image source\nuseEffect(()=>{// Fetch the image using the filename and filepath from the post\nif(post.filename&&post.filepath){axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/\").concat(post.filepath,\"/\").concat(post.filename),{responseType:'blob'// Ensure response is treated as binary data\n}).then(response=>{const imageUrl=URL.createObjectURL(response.data);setImageSrc(imageUrl);}).catch(error=>{console.error('Error fetching image:',error);});}},[post.filename,post.filepath]);const handleLike=()=>{setLikes(likes+1);};const handleCommentSubmit=e=>{e.preventDefault();if(commentText.trim()){setComments([...comments,commentText]);setCommentText('');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"post-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:iconforum,alt:\"\",className:\"profile-pic\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:post.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"name\",children:post.author}),/*#__PURE__*/_jsx(\"h3\",{className:\"location\",children:post.location})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tag\",children:\"CULTURE\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"post-body\",children:/*#__PURE__*/_jsx(\"p\",{children:post.content})}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post-stats\",children:[\"Seen \",post.views,\" times | \",new Date(post.createdAt).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleLike,children:\"\\u2764\\uFE0F Like it\"}),/*#__PURE__*/_jsxs(\"span\",{children:[likes,\" reaction\",likes!==1?'s':'']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-comments\",children:[comments.map((comment,index)=>/*#__PURE__*/_jsx(\"p\",{children:comment},index)),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCommentSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add a comment\",value:commentText,onChange:e=>setCommentText(e.target.value),className:\"comment-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"comment-button\",children:\"Send\"})]})]})]});};export default PostComponent;","map":{"version":3,"names":["React","useState","useEffect","axios","iconforum","jsx","_jsx","jsxs","_jsxs","PostComponent","_ref","post","likes","setLikes","comments","setComments","commentText","setCommentText","imageSrc","setImageSrc","filename","filepath","get","concat","process","env","REACT_APP_API_URL","responseType","then","response","imageUrl","URL","createObjectURL","data","catch","error","console","handleLike","handleCommentSubmit","e","preventDefault","trim","className","children","src","alt","title","author","location","content","views","Date","createdAt","toLocaleDateString","onClick","map","comment","index","onSubmit","type","placeholder","value","onChange","target"],"sources":["/Users/jimena/Documents/GitHub/international-student-guide/src/Forum/PostComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport iconforum from '../assets/icon-forum.png';\n\nconst PostComponent = ({ post }) => {\n  const [likes, setLikes] = useState(0);\n  const [comments, setComments] = useState([]);\n  const [commentText, setCommentText] = useState('');\n  const [imageSrc, setImageSrc] = useState(null); // State to store image source\n\n  useEffect(() => {\n    // Fetch the image using the filename and filepath from the post\n    if (post.filename && post.filepath) {\n      axios\n        .get(`${process.env.REACT_APP_API_URL}/${post.filepath}/${post.filename}`, {\n          responseType: 'blob', // Ensure response is treated as binary data\n        })\n        .then((response) => {\n          const imageUrl = URL.createObjectURL(response.data);\n          setImageSrc(imageUrl);\n        })\n        .catch((error) => {\n          console.error('Error fetching image:', error);\n        });\n    }\n  }, [post.filename, post.filepath]);\n\n  const handleLike = () => {\n    setLikes(likes + 1);\n  };\n\n  const handleCommentSubmit = (e) => {\n    e.preventDefault();\n    if (commentText.trim()) {\n      setComments([...comments, commentText]);\n      setCommentText('');\n    }\n  };\n\n  return (\n    <div className=\"post-container\">\n      <div className=\"post-header\">\n      <img src={iconforum} alt=\"\"  className='profile-pic'></img>\n\n        <div>\n          <h2 className='title'>{post.title}</h2>\n          <div className='profile-info'>\n            <h3 className='name'>{post.author}</h3>\n            <h3 className='location'>{post.location}</h3>\n          </div>\n        </div>\n        <div className=\"tag\">CULTURE</div>\n      </div>\n      <div className=\"post-body\">\n        <p>{post.content}</p>\n      </div>\n      <div className=\"post-footer\">\n        <div className=\"post-stats\">\n          Seen {post.views} times | {new Date(post.createdAt).toLocaleDateString()}\n        </div>\n        <div className=\"post-actions\">\n          <button onClick={handleLike}>❤️ Like it</button>\n          <span>{likes} reaction{likes !== 1 ? 's' : ''}</span>\n        </div>\n      </div>\n      <div className=\"post-comments\">\n        {comments.map((comment, index) => (\n          <p key={index}>{comment}</p>\n        ))}\n        <form onSubmit={handleCommentSubmit}>\n          <input\n            type=\"text\"\n            placeholder=\"Add a comment\"\n            value={commentText}\n            onChange={(e) => setCommentText(e.target.value)}\n            className=\"comment-input\"\n          />\n          <button type=\"submit\" className=\"comment-button\">\n            Send\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default PostComponent;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,SAAS,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjD,KAAM,CAAAC,aAAa,CAAGC,IAAA,EAAc,IAAb,CAAEC,IAAK,CAAC,CAAAD,IAAA,CAC7B,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CAAC,CACrC,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACe,WAAW,CAAEC,cAAc,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACiB,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAAE;AAEhDC,SAAS,CAAC,IAAM,CACd;AACA,GAAIS,IAAI,CAACS,QAAQ,EAAIT,IAAI,CAACU,QAAQ,CAAE,CAClClB,KAAK,CACFmB,GAAG,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,MAAAH,MAAA,CAAIZ,IAAI,CAACU,QAAQ,MAAAE,MAAA,CAAIZ,IAAI,CAACS,QAAQ,EAAI,CACzEO,YAAY,CAAE,MAAQ;AACxB,CAAC,CAAC,CACDC,IAAI,CAAEC,QAAQ,EAAK,CAClB,KAAM,CAAAC,QAAQ,CAAGC,GAAG,CAACC,eAAe,CAACH,QAAQ,CAACI,IAAI,CAAC,CACnDd,WAAW,CAACW,QAAQ,CAAC,CACvB,CAAC,CAAC,CACDI,KAAK,CAAEC,KAAK,EAAK,CAChBC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CAAC,CAAC,CACN,CACF,CAAC,CAAE,CAACxB,IAAI,CAACS,QAAQ,CAAET,IAAI,CAACU,QAAQ,CAAC,CAAC,CAElC,KAAM,CAAAgB,UAAU,CAAGA,CAAA,GAAM,CACvBxB,QAAQ,CAACD,KAAK,CAAG,CAAC,CAAC,CACrB,CAAC,CAED,KAAM,CAAA0B,mBAAmB,CAAIC,CAAC,EAAK,CACjCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAIxB,WAAW,CAACyB,IAAI,CAAC,CAAC,CAAE,CACtB1B,WAAW,CAAC,CAAC,GAAGD,QAAQ,CAAEE,WAAW,CAAC,CAAC,CACvCC,cAAc,CAAC,EAAE,CAAC,CACpB,CACF,CAAC,CAED,mBACET,KAAA,QAAKkC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BnC,KAAA,QAAKkC,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC5BrC,IAAA,QAAKsC,GAAG,CAAExC,SAAU,CAACyC,GAAG,CAAC,EAAE,CAAEH,SAAS,CAAC,aAAa,CAAM,CAAC,cAEzDlC,KAAA,QAAAmC,QAAA,eACErC,IAAA,OAAIoC,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEhC,IAAI,CAACmC,KAAK,CAAK,CAAC,cACvCtC,KAAA,QAAKkC,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BrC,IAAA,OAAIoC,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAEhC,IAAI,CAACoC,MAAM,CAAK,CAAC,cACvCzC,IAAA,OAAIoC,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAEhC,IAAI,CAACqC,QAAQ,CAAK,CAAC,EAC1C,CAAC,EACH,CAAC,cACN1C,IAAA,QAAKoC,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,SAAO,CAAK,CAAC,EAC/B,CAAC,cACNrC,IAAA,QAAKoC,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBrC,IAAA,MAAAqC,QAAA,CAAIhC,IAAI,CAACsC,OAAO,CAAI,CAAC,CAClB,CAAC,cACNzC,KAAA,QAAKkC,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BnC,KAAA,QAAKkC,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAC,OACrB,CAAChC,IAAI,CAACuC,KAAK,CAAC,WAAS,CAAC,GAAI,CAAAC,IAAI,CAACxC,IAAI,CAACyC,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,EACrE,CAAC,cACN7C,KAAA,QAAKkC,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BrC,IAAA,WAAQgD,OAAO,CAAEjB,UAAW,CAAAM,QAAA,CAAC,sBAAU,CAAQ,CAAC,cAChDnC,KAAA,SAAAmC,QAAA,EAAO/B,KAAK,CAAC,WAAS,CAACA,KAAK,GAAK,CAAC,CAAG,GAAG,CAAG,EAAE,EAAO,CAAC,EAClD,CAAC,EACH,CAAC,cACNJ,KAAA,QAAKkC,SAAS,CAAC,eAAe,CAAAC,QAAA,EAC3B7B,QAAQ,CAACyC,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,gBAC3BnD,IAAA,MAAAqC,QAAA,CAAgBa,OAAO,EAAfC,KAAmB,CAC5B,CAAC,cACFjD,KAAA,SAAMkD,QAAQ,CAAEpB,mBAAoB,CAAAK,QAAA,eAClCrC,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,eAAe,CAC3BC,KAAK,CAAE7C,WAAY,CACnB8C,QAAQ,CAAGvB,CAAC,EAAKtB,cAAc,CAACsB,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE,CAChDnB,SAAS,CAAC,eAAe,CAC1B,CAAC,cACFpC,IAAA,WAAQqD,IAAI,CAAC,QAAQ,CAACjB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,MAEjD,CAAQ,CAAC,EACL,CAAC,EACJ,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}